[% set active='browser' %]
[% extends "ng-templates/dataset-base.html" %]
[% block controller %]browserController[% endblock %]
[% block contents %]
<div class="row">
    <div class="col-sm-12">
        <div class="dataset-panel">
            <div class="dataset-body">
                <div>
                    <div class="dropdown">
                        <form ng-submit="ctrl.search()">
                            <input type="submit"
                                   style="display: none;"/>
                            <input id="home-searchbox-input"
                                   name="query"
                                   class="form-control input-lg dropdown-toggle"
                                   type="text"
                                   placeholder="Search for a gene or variant or region"
                                   ng-model="ctrl.query"
                                   ng-change="ctrl.autocomplete()"
                                   data-toggle="dropdown"
                                   autocomplete="off"/>
                            <input type="submit"
                                   style="position: absolute; left: -9999px"/>
                            <ul class="dropdown-menu" style="overflow:visible;">
                              <li ng-repeat="term in autocomplete"><a href="" ng-click="ctrl.search(term)">{{ term }}</a></li>
                            </ul>
                        </form>
                    </div>
                    <p class="text-muted">Examples - Gene:
                    <a href=""  ng-click="ctrl.search('PCSK9')" target="_self">PCSK9</a>, Transcript:
                    <a href="{{ ctrl.browserLink('transcript/ENST00000407236') }}">ENST00000407236</a>, Variant:
                    <a href="{{ ctrl.browserLink('variant/22-46615880-T-C') }}">22-46615880-T-C</a>, Multi-allelic
                    variant:
                    <a href="" ng-click="ctrl.search('rs1800234')" target="_self">rs1800234</a>, Region:
                    <a href="{{ ctrl.browserLink('region/22-46615715-46615880') }}">22:46615715-46615880</a></p>
                </div>
                <div class="row" style="font-size: 16px;">
                    <div class="col-md-12">
                        <p> This genome browser displays the variant frequencies obtained from the
                            {{ ctrl.dataset.datasetSize }} individuals of the {{ ctrl.dataset.shortName }} dataset,
                            using software adapted from the Exome Aggregation Consortium (ExAC).</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
[% endblock %]
