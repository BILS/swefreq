<div ng-controller="datasetController as datasetCtrl">
    <div class="container">
        <my-dataset-header dataset="{{datasetCtrl.dataset.full_name}}"></my-dataset-header>
        <div class="row">
            <div id="tab-bar">
                <my-navbar tab="information" dataset="{{datasetCtrl.dataset.short_name}}"></my-navbar>

                <div class="tab-content">
                    <div class="row dataset-row">
                        <div class="col-sm-12">
                            <div class="dataset-panel">
                                 <div class="dataset-body">
                                     <div ng-if="datasetCtrl.dataset.has_image">
                                         <img ng-src="/api/datasets/{{datasetCtrl.dataset.short_name}}/logo" class="dataset-logo" alt='{{ dataset.short_name }} logo' />
                                     </div>
                                     <div ng-bind-html="datasetCtrl.dataset.version.description" />
                                 </div>
                            </div>
                        </div>
                    </div>
                    <div class="row dataset-row">
                        <div class="col-md-4">
                            <div class="dataset-panel infobox">
                                <div class="dataset-heading">Dataset</div>
                                <div class="dataset-body">
                                    Overview
                                    <ul>
                                       <li ng-if="datasetCtrl.dataset.seq_type">Sequencing type: {{ datasetCtrl.dataset.seq_type }}
                                       <li ng-if="datasetCtrl.dataset.seq_tech">Sequencing tech: {{ datasetCtrl.dataset.seq_tech }}
                                       <li ng-if="datasetCtrl.dataset.avg_seq_depth">Average Sequencing Depth: {{datasetCtrl.dataset.avg_seq_depth }}
                                       <li ng-if="datasetCtrl.dataset.seq_center">Sequencing Center: {{ datasetCtrl.dataset.seq_center }}
                                       <li ng-if="datasetCtrl.dataset.dataset_size">Dataset Size: {{ datasetCtrl.dataset.dataset_size }}
                                       <li ng-if="datasetCtrl.dataset.version.var_call_ref">Variant Calling reference: {{ datasetCtrl.dataset.version.var_call_ref }}
                                       <li ng-if="datasetCtrl.dataset.version.ref_doi">Dataset DOI: {{ datasetCtrl.dataset.version.ref_doi }}
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="dataset-panel infobox">
                                <div class="dataset-heading">Study</div>
                                <div class="dataset-body">
{{datasetCtrl.study.title}}
                                    <ul>
                                       <li ng-if="datasetCtrl.study.pi_name">Principal Investigator: {{ datasetCtrl.study.pi_name }}
                                       <li ng-if="datasetCtrl.study.ref_doi">DOI: {{ datasetCtrl.study.ref_doi }}
                                       <li ng-if="datasetCtrl.study.publication_date">Publication date: {{datasetCtrl.study.publication_date }}
                                       <li ng-if="datasetCtrl.study.contact_email">Contact: <a href="mailto:{{datasetCtrl.study.contact_email}}">{{ datasetCtrl.study.contact_name_uc }}</a>
                                       <li ng-if="datasetCtrl.study.description">Description: {{ datasetCtrl.study.description }}
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="dataset-panel infobox">
                                <div class="dataset-heading">Collection</div>
                                <div class="dataset-body">
                                    <div ng-repeat="(name, coll) in datasetCtrl.collections">
                                        {{ name }} <span class='ethnicity'>{{coll.ethnicity}}</span>
                                        <ul ng-repeat="sample in coll.sample_sets" class='samples'>
                                            <li>Sample size: {{ sample.sample_size }}</li>
                                            <li>Phenotype: {{ sample.phenotype }}</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
